// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Monad_Reader from "../src/Monads/Monad_Reader.mjs";

test("Reader Type", (function () {
        
      }));

test("run()", (function () {
        var result = Monad_Reader.run(/* Reader */{
              _0: (function (e) {
                  return e + 1 | 0;
                })
            }, 1);
        expect(result).toEqual(2);
      }));

test("return()", (function () {
        var result = Monad_Reader.run(Monad_Reader.$$return(99), 1);
        expect(result).toEqual(99);
      }));

test("ask()", (function () {
        var result = Monad_Reader.run(Monad_Reader.ask(undefined), 123);
        expect(result).toEqual(123);
      }));

test("local()", (function () {
        var __x = /* Reader */{
          _0: (function (e) {
              return e + 1 | 0;
            })
        };
        var result = Monad_Reader.run(Monad_Reader.local((function (e) {
                    return -e | 0;
                  }), __x), 1);
        expect(result).toEqual(0);
      }));

test("map()", (function () {
        var __x = /* Reader */{
          _0: (function (e) {
              return e + 1 | 0;
            })
        };
        var result = Monad_Reader.run(Monad_Reader.map((function (x) {
                    return Math.imul(x, 10);
                  }), __x), 1);
        expect(result).toEqual(20);
      }));

test("bind() 1", (function () {
        var __x = /* Reader */{
          _0: (function (e) {
              return e + 1 | 0;
            })
        };
        var result = Monad_Reader.run(Monad_Reader.bind((function (x) {
                    return /* Reader */{
                            _0: (function (param) {
                                return (x << 1);
                              })
                          };
                  }), __x), 1);
        expect(result).toEqual(4);
      }));

test("bind() 2", (function () {
        var __x = /* Reader */{
          _0: (function (e) {
              return e + 1 | 0;
            })
        };
        var result = Monad_Reader.run(Monad_Reader.bind((function (x) {
                    return Monad_Reader.$$return((x << 1));
                  }), __x), 1);
        expect(result).toEqual(4);
      }));

test("bind() 3", (function () {
        var greet = function (name, greeting) {
          return greeting + ": " + name;
        };
        var ra = /* Reader */{
          _0: (function (param) {
              return greet("One", param);
            })
        };
        var rb = /* Reader */{
          _0: (function (param) {
              return greet("Two", param);
            })
        };
        var rc = /* Reader */{
          _0: (function (param) {
              return greet("Three", param);
            })
        };
        var r12 = Monad_Reader.bind((function (a) {
                return Monad_Reader.bind((function (b) {
                              return Monad_Reader.bind((function (c) {
                                            return Monad_Reader.$$return([
                                                        a,
                                                        b,
                                                        c
                                                      ]);
                                          }), rc);
                            }), rb);
              }), ra);
        var result = Monad_Reader.run(r12, "Hello");
        expect(result).toEqual([
              "Hello: One",
              "Hello: Two",
              "Hello: Three"
            ]);
      }));

test("bind() 3.1", (function () {
        var greet = function (name, greeting) {
          return greeting + ": " + name;
        };
        var __x = /* Reader */{
          _0: (function (param) {
              return greet("One", param);
            })
        };
        var result = Monad_Reader.run(Monad_Reader.bind((function (a) {
                    var __x = /* Reader */{
                      _0: (function (param) {
                          return greet("Two", param);
                        })
                    };
                    return Monad_Reader.bind((function (b) {
                                  var __x = /* Reader */{
                                    _0: (function (param) {
                                        return greet("Three", param);
                                      })
                                  };
                                  return Monad_Reader.bind((function (c) {
                                                return Monad_Reader.$$return([
                                                            a,
                                                            b,
                                                            c
                                                          ]);
                                              }), __x);
                                }), __x);
                  }), __x), "Hey");
        expect(result).toEqual([
              "Hey: One",
              "Hey: Two",
              "Hey: Three"
            ]);
      }));

export {
  
}
/*  Not a pure module */
