// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Curry from "rescript/lib/es6/curry.js";
import * as Json_decode from "@glennsl/bs-json/src/Json_decode.mjs";

require('isomorphic-fetch')
;

var __x = fetch("https://aws.random.cat/meow");

var __x$1 = __x.then(function (prim) {
      return prim.json();
    });

__x$1.then(function (json) {
      return Promise.resolve((console.log(json), undefined));
    });

function catData(data) {
  return {
          file: Json_decode.field("file", Json_decode.string, data)
        };
}

var Decode = {
  catData: catData
};

function fetchCat(param) {
  var __x = fetch("https://aws.random.cat/meow");
  var __x$1 = __x.then(function (prim) {
        return prim.json();
      });
  return __x$1.then(function (obj) {
              return Promise.resolve(catData(obj));
            });
}

var __x$2 = fetchCat(undefined);

__x$2.then(function (data) {
      return Promise.resolve((console.log(data.file), undefined));
    });

function fetchJson(url, decoder) {
  var __x = fetch(url);
  var __x$1 = __x.then(function (prim) {
        return prim.json();
      });
  return __x$1.then(function (obj) {
              return Promise.resolve(Curry._1(decoder, obj));
            });
}

function fetchCat$1(param) {
  return fetchJson("https://aws.random.cat/meow", catData);
}

var __x$3 = fetchJson("https://aws.random.cat/meow", catData);

__x$3.then(function (data) {
      return Promise.resolve((console.log(data.file), undefined));
    });

export {
  Decode ,
  fetchJson ,
  fetchCat$1 as fetchCat,
  
}
/*  Not a pure module */
