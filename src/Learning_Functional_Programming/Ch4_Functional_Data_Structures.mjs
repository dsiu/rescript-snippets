// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Stdlib_List from "@dsiu/rescript-stdlib-fp/src/Stdlib_List.mjs";
import * as Stdlib_Array from "@dsiu/rescript-stdlib-fp/src/Stdlib_Array.mjs";
import * as Stdlib_Result from "@dsiu/rescript-stdlib-fp/src/Stdlib_Result.mjs";

function log(prim) {
  console.log(prim);
}

function log2(prim0, prim1) {
  console.log(prim0, prim1);
}

function getUser(id) {
  if (id !== 0) {
    return {
            TAG: "Customer",
            _0: id
          };
  }
  
}

var prim = Stdlib_Array.flatMap([
      0,
      1,
      2
    ], (function (x) {
        return [getUser(x)];
      }));

console.log(prim);

var Ch4_flatmap = {
  getUser: getUser
};

function getUsers(param) {
  return {
          hd: {
            TAG: "Ok",
            _0: {
              TAG: "User",
              id: 1,
              email: "jack@example.com"
            }
          },
          tl: {
            hd: {
              TAG: "Error",
              _0: {
                TAG: "Error",
                id: 4,
                text: "user not found"
              }
            },
            tl: {
              hd: {
                TAG: "Ok",
                _0: {
                  TAG: "User",
                  id: 2,
                  email: "andrea@example.com"
                }
              },
              tl: /* [] */0
            }
          }
        };
}

var emails = Stdlib_List.map({
      hd: {
        TAG: "Ok",
        _0: {
          TAG: "User",
          id: 1,
          email: "jack@example.com"
        }
      },
      tl: {
        hd: {
          TAG: "Error",
          _0: {
            TAG: "Error",
            id: 4,
            text: "user not found"
          }
        },
        tl: {
          hd: {
            TAG: "Ok",
            _0: {
              TAG: "User",
              id: 2,
              email: "andrea@example.com"
            }
          },
          tl: /* [] */0
        }
      }
    }, (function (result) {
        return Stdlib_Result.map(result, (function (u) {
                      return u.email;
                    }));
      }));

var prim1 = Stdlib_List.toArray(emails);

console.log(33, prim1);

var Ch4_Higher_Order_Functions = {
  getUsers: getUsers,
  emails: emails
};

function getStudent(id) {
  return {
          TAG: "Student",
          id: 1,
          email: "alex"
        };
}

function getFinalGrade(student) {
  return {
          TAG: "FinalGrade",
          grade: 100
        };
}

var Ch4_Monads_students = {
  hd: {
    TAG: "Student",
    id: 1,
    email: "jack@example.com"
  },
  tl: {
    hd: undefined,
    tl: {
      hd: {
        TAG: "Student",
        id: 2,
        email: "andrea@example.com"
      },
      tl: {
        hd: undefined,
        tl: /* [] */0
      }
    }
  }
};

var Ch4_Monads = {
  getStudent: getStudent,
  getFinalGrade: getFinalGrade,
  students: Ch4_Monads_students
};

var A;

export {
  A ,
  log ,
  log2 ,
  Ch4_flatmap ,
  Ch4_Higher_Order_Functions ,
  Ch4_Monads ,
}
/* prim Not a pure module */
