// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Stdlib_Exn from "@rescript/runtime/lib/es6/Stdlib_Exn.js";
import * as Belt_Option from "@rescript/runtime/lib/es6/Belt_Option.js";
import * as Primitive_exceptions from "@rescript/runtime/lib/es6/Primitive_exceptions.js";

function safeParse1(string) {
  try {
    let json = JSON.parse(string);
    return {
      TAG: "Ok",
      _0: json
    };
  } catch (raw_obj) {
    let obj = Primitive_exceptions.internalToException(raw_obj);
    if (obj.RE_EXN_ID === Stdlib_Exn.$$Error) {
      let m = obj._1.message;
      if (m !== undefined) {
        return {
          TAG: "Error",
          _0: m
        };
      } else {
        return {
          TAG: "Error",
          _0: "Unknown"
        };
      }
    }
    throw obj;
  }
}

function safeParse(string) {
  let json;
  try {
    json = JSON.parse(string);
  } catch (raw_exn) {
    let exn = Primitive_exceptions.internalToException(raw_exn);
    if (exn.RE_EXN_ID === Stdlib_Exn.$$Error) {
      return {
        TAG: "Error",
        _0: Belt_Option.getWithDefault(exn._1.message, "Unknown")
      };
    }
    throw exn;
  }
  return {
    TAG: "Ok",
    _0: json
  };
}

export {
  safeParse1,
  safeParse,
}
/* No side effect */
